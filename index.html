<!DOCTYPE html> 
<html lang="en"> 
	
<head> 
	<meta charset="UTF-8"> 
	<meta http-equiv="X-UA-Compatible" content="IE=edge"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 	
</head> 

<body> 
	
	<h4>Gyroscope</h4>
	<ul>
	  <li>X-axis: <span id="Gyroscope_x">0</span><span>&deg;/s</span></li>
	  <li>Y-axis: <span id="Gyroscope_y">0</span><span>&deg;/s</span></li>
	  <li>Z-axis: <span id="Gyroscope_z">0</span><span>&deg;/s</span></li>
	</ul>
	<h4>Max - X</h4>
	<h1 id="max_val">0</h1>
	<h4>Min - X</h4>
	<h1 id="min_val">0</h1>

	<script>
	max_val = 0
	min_val = 0
	
	function updateFieldIfNotNull(fieldName, value, precision=2){
	  if (value != null)
		document.getElementById(fieldName).innerHTML = value.toFixed(precision);
	}
	function handleMotion(event) {
		gx = event.rotationRate.beta
		if (gx > max_val){
			max_val = gx;
			document.getElementById("max_val").innerHTML = max_val.toFixed(2);
		}
		if (gx < min_val){
			min_val = gx;
			document.getElementById("min_val").innerHTML = min_val.toFixed(2);
		}
		
		updateFieldIfNotNull('Gyroscope_z', event.rotationRate.alpha);	
		updateFieldIfNotNull('Gyroscope_x', event.rotationRate.beta);
		updateFieldIfNotNull('Gyroscope_y', event.rotationRate.gamma);
	}
	window.addEventListener("devicemotion", handleMotion);
	</script> 
</body> 
	
</html>
